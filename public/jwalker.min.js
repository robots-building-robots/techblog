(()=>{(function(){let v=[[1,0],[-1,0],[0,1],[0,-1]],z=8,u=.02;class w{constructor(t,{x:h,y:o,color:n,size:i,speed:s,length:e}){this.canvas=t,this.color=n,this.size=i,this.speed=s,this.length=e,this.stopped=!1,this.opacity=0,this.col=Math.floor(h/i),this.row=Math.floor(o/i),this.trail=[{col:this.col,row:this.row}],this.occupied=new Set([this.col*1e4+this.row]),this._elapsed=0,this._interval=1e3/s}step(){let t=v;for(let i=3;i>0;i--){let s=Math.random()*(i+1)|0,e=t[i];t[i]=t[s],t[s]=e}let h=this.size,o=this.canvas.width/h|0,n=this.canvas.height/h|0;for(let i=0;i<4;i++){let s=this.col+t[i][0],e=this.row+t[i][1];if(s<0||e<0||s>=o||e>=n)continue;let r=s*1e4+e;if(!this.occupied.has(r)){if(this.col=s,this.row=e,this.trail.push({col:s,row:e}),this.occupied.add(r),this.trail.length>this.length){let a=this.trail.shift();this.occupied.delete(a.col*1e4+a.row)}return!0}}return!1}update(t){if(this.stopped){this.opacity=this.opacity-u<0?0:this.opacity-u;return}for(this.opacity=this.opacity+u>1?1:this.opacity+u,this._elapsed+=t;this._elapsed>=this._interval;)if(this._elapsed-=this._interval,!this.step()){this.stopped=!0;return}}get alive(){return this.opacity>.01}draw(t){let h=this.trail.length,o=this.opacity,n=this.size;t.fillStyle=this.color;for(let i=0;i<h;i++){t.globalAlpha=(i+1)/h*o;let s=this.trail[i];t.fillRect(s.col*n+1,s.row*n+1,n-1,n-1)}}}function y(l,t){return new w(l,{x:Math.random()*l.width,y:Math.random()*l.height,color:t.color,size:t.size,speed:t.speed,length:t.length})}document.querySelectorAll(".jwalker").forEach(function(l){getComputedStyle(l).position==="static"&&(l.style.position="relative"),l.style.isolation="isolate";let t=l.dataset,h={color:t.color||"rgb(160,160,160)",size:t.size?parseInt(t.size,10):z,count:t.count?parseInt(t.count,10):3,speed:t.speed?parseFloat(t.speed):4+Math.random()*8,length:t.length?parseInt(t.length,10):20+Math.floor(Math.random()*40)},o=document.createElement("canvas");o.setAttribute("aria-hidden","true"),o.style.cssText="position:fixed;top:0;left:0;right:0;bottom:0;margin:0;padding:0;set:0;width:100%;height:100%;z-index:-1;",l.prepend(o);let n=o.getContext("2d"),i=h.count,s=8,e=[],r=!0,a=null;new ResizeObserver(function(){clearTimeout(a),a=setTimeout(function(){r=!0},150)}).observe(l),l.addEventListener("click",function(p){let f=l.getBoundingClientRect(),d=new w(o,{x:p.clientX-f.left,y:p.clientY-f.top,color:h.color,size:h.size,speed:h.speed,length:h.length});d.opacity=1,e.length>=s&&e.shift(),e.push(d)});let g=null;function m(p){let f=g===null?0:p-g;g=p,r&&(r=!1,o.width=l.offsetWidth,o.height=l.offsetHeight,e=Array.from({length:i},function(){return y(o,h)}));let d=0;for(let c=0;c<e.length;c++)e[c].alive&&(e[d++]=e[c]);for(e.length=d;e.length<i;)e.push(y(o,h));e.length>s&&e.splice(0,e.length-s),n.globalAlpha=1,n.clearRect(0,0,o.width,o.height);for(let c=0;c<e.length;c++)e[c].update(f),e[c].draw(n);n.globalAlpha=1,requestAnimationFrame(m)}requestAnimationFrame(m)})})();})();
